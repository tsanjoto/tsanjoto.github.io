var LoginRadiusSDK=function(){function n(n){-1!=n.origin.indexOf("hub.loginradius.com")&&loginradiushtml5passToken(n.data)}!function(n,t){"use strict";var o=function(){var t=function(){for(var t=n.location.hash?n.location.hash.substr(1).split("&"):[],o={},e=0;e<t.length;e++){var i=t[e].split("=");o[i[0]]=decodeURIComponent(i[1])}return o},o=function(t){var o=[];for(var e in t)o.push(e+"="+encodeURIComponent(t[e]));n.location.hash=o.join("&")};return{get:function(n){var o=t();return n?o[n]:o},add:function(n){var e=t();for(var i in n)e[i]=n[i];o(e)},remove:function(n){n="string"==typeof n?[n]:n;for(var e=t(),i=0;i<n.length;i++)delete e[n[i]];o(e)},clear:function(){o({})}}}();n.hash=o}(window);var t="https://api.loginradius.com/api/v2/",o="LRTokenKey",e={},i={};i.isauthenticated=!1,i.setLoginCallback=function(n){i.onlogin=n},i.getUserprofile=function(n){e.jsonpCall("userprofile",function(t){n(t)})},i.getPhotos=function(n,t){e.jsonpCall("photo?albumid="+n,function(n){t(n)})},i.getCheckins=function(n){e.jsonpCall("checkin",function(t){n(t)})},i.getAlbums=function(n){e.jsonpCall("album",function(t){n(t)})},i.getAudios=function(n){e.jsonpCall("audio",function(t){n(t)})},i.getMentions=function(n){e.jsonpCall("mention",function(t){n(t)})},i.getFollowings=function(n){e.jsonpCall("following",function(t){n(t)})},i.getEvents=function(n){e.jsonpCall("event",function(t){n(t)})},i.getPosts=function(n){e.jsonpCall("post",function(t){n(t)})},i.getCompanies=function(n){e.jsonpCall("company",function(t){n(t)})},i.getGroups=function(n){e.jsonpCall("group",function(t){n(t)})},i.getStatuses=function(n){e.jsonpCall("status",function(t){n(t)})},i.getContacts=function(n,t){e.jsonpCall("contact?nextcursor="+n,function(n){t(n)})},i.getVideos=function(n){e.jsonpCall("video",function(t){n(t)})},i.getLikes=function(n){e.jsonpCall("like",function(t){n(t)})},i.postStatus=function(n,t,o,i,a,s,c){e.jsonpCall("status/js?title="+n+"&url="+t+"&imageurl="+i+"&status="+o+"&caption="+a+"&description="+s,function(n){c(n)})},i.postMessage=function(n,t,o,i){e.jsonpCall("message/js?to="+n+"&subject="+t+"&message="+o,function(n){i(n)})},i.getPage=function(n,t){e.jsonpCall("page?pagename="+n,function(n){t(n)})},i.getToken=function(){return sessionStorage.getItem(o)},e.jsonpCall=function(n,o){var e="Loginradius"+Math.floor(1e18*Math.random()+1);window[e]=function(n){o(n);try{delete window[e]}catch(t){window[e]=void 0}document.body.removeChild(a)};var a=document.createElement("script");a.src=t+n+(-1!=n.indexOf("?")?"&":"?")+"access_token="+i.getToken()+"&callback="+e,a.type="text/javascript",document.body.appendChild(a)},e.addEvent=function(n,t,o){var e=[];t instanceof Array?e=t:e.push(t);for(var i=0;i<e.length;i++)e[i].attachEvent?e[i].attachEvent("on"+n,function(n){o(n)}):e[i].addEventListener&&e[i].addEventListener(n,o,!1)},e.addEvent("message",window,n),window.loginradiushtml5passToken=function(n){sessionStorage.setItem(o,n),i.isauthenticated=!0;var t=setInterval(function(){i.onlogin&&(i.onlogin(),clearInterval(t))},100)};var a=hash.get("lr-token");return a&&(window.opener&&window.opener.loginradiushtml5passToken?(window.opener.loginradiushtml5passToken(a),document.write('<style type="text/css">body { display: none !important; } </style>'),window.close()):window.loginradiushtml5passToken(a)),i}();
