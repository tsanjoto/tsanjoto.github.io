<!DOCTYPE html>
<html>
    <head>
        <title>Google Analytics</title>
        
        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <!-- LoginRadius SDK -->
        <script src="LoginRadiusSDK.2.0.1.js"></script>
        
        <!-- LoginRadius Login JS -->
        <script src="//hub.loginradius.com/include/js/LoginRadius.js"></script>
        
        <!-- Google Analytics Code -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
             (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
             m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
             })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
             ga('create', 'UA-98455104-1', 'auto');
             ga('send', 'pageview');
            </script>
        
        <script type="text/javascript">
            var apiKey = 'aad1d378-8613-429b-b728-bb2550e453f3';
            var siteUrl = document.URL;
            var loginRadiusOptions = {};
            loginRadiusOptions.login = true;
            LoginRadius_SocialLogin.util.ready(function () {
                                               $ui = LoginRadius_SocialLogin.lr_login_settings;
                                               $ui.interfacesize = '';
                                               $ui.apikey = apiKey;
                                               $ui.callback = siteUrl;
                                               $ui.lrinterfacecontainer = "interfacecontainerdiv";
                                               $ui.interfacesize = "";
                                               $ui.noofcolumns = 5;
                                               $ui.lrinterfacebackground = "";
                                               $ui.is_access_token = 1;
                                               
                                               if(navigator.userAgent.match('CriOS')||navigator.userAgent.match('iPhone')){
                                                    // Is Chrome iOS or iPhone
                                                    $ui.templatename = "loginradiuscustom_tmpl_MOBILE";
                                                } else {
                                                    $ui.templatename = "interfacecontainerdiv";
                                                }
                                                raasoption.hashTemplate = true;
                                               
                                               LoginRadius_SocialLogin.init(loginRadiusOptions);
                                               });
                                               
                                               LoginRadiusSDK.setLoginCallback(function () {
                                                                               
                                                                               var token = LoginRadiusSDK.getToken();
                                                                               console.log( 'Token ' + token );
                                                                               
                                                                               LoginRadiusSDK.getUserprofile( function(userprofile) {
                                                                                                             ga( 'set', '&uid', userprofile.ID );
                                                                                                             console.log( 'ID ' + userprofile.ID );
                                                                                                             
                                                                                                             $('.userprofile').html('<ul>');
                                                                                                             $.each( userprofile, function(index, val) {
                                                                                                                    if( typeof(val) == 'object' && val != null ){
                                                                                                                    var content = '';
                                                                                                                    $.each( val, function(valindex, valval) {
                                                                                                                           var i = valindex.toString();
                                                                                                                           content =+    '<li>' + i + ': ' + valval + '</li>';
                                                                                                                           });
                                                                                                                    $('.userprofile').append( 
                                                                                                                                             '<li><ul>' + 
                                                                                                                                             content +
                                                                                                                                             '</ul></li>'
                                                                                                                                             );
                                                                                                                    
                                                                                                                    }else{
                                                                                                                    $('.userprofile').append( '<li>' + index + ': ' + val + '</li>');
                                                                                                                    }
                                                                                                                    });
                                                                                                             $('.userprofile').append('</ul>');
                                                                                                             } );
                                                                               } );
            </script>
        
        <script src="//cdn.loginradius.com/hub/prod/js/lr-google-analyitcs.js" type="text/javascript"></script>
        <script type="text/html" id="loginradiuscustom_tmpl_MOBILE">
    <span class="lr-provider-label lr-sl-shaded-brick-button lr-flat-<#=Name.toLowerCase()#>"
onclick="window.location.href='<#= Endpoint #>&is_access_token=true&callback=<#= window.location.href.split('#')[0] #>&callbacktype=hash';"
title="Sign up with <#= Name #> Mobile" alt="Sign in with <#=Name#> Mobile" >
<span class="lr-sl-icon lr-sl-icon-<#=Name.toLowerCase()#>"></span>
Sign up with <#=Name#> Mobile
    </span>
</script>
    </head>
    <body>
        <h1>Google Analytics Walkthrough</h1>
        
        <div class="interfacecontainerdiv"></div>
        <div class="userprofile"></div>
    </body>
</html>
